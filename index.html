<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindsetFlow - Professional Content Creator</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app">
        <!-- Setup Wizard -->
        <div class="setup-wizard hidden" id="setupWizard">
            <div class="setup-wizard__overlay"></div>
            <div class="setup-wizard__content">
                <div class="setup-wizard__header">
                    <h1>üß† Welcome to MindsetFlow</h1>
                    <p>Let's get you set up in just a few simple steps!</p>
                </div>

                <div class="setup-steps">
                    <div class="setup-step setup-step--active" id="step1">
                        <div class="setup-step__header">
                            <div class="setup-step__number">1</div>
                            <h3>Connect Your n8n Server</h3>
                            <p>This is where your automation magic happens!</p>
                        </div>
                        <div class="setup-step__content">
                            <div class="help-box">
                                <div class="help-box__header">
                                    <span class="help-icon">üí°</span>
                                    <h4>What is n8n?</h4>
                                </div>
                                <p>n8n is your automation server that creates videos with your voice and posts them to social media!</p>
                            </div>
                            <div class="form-group">
                                <label class="form-label">n8n Server URL</label>
                                <input type="url" class="form-control" id="n8nServerUrl" placeholder="https://n8n.pareshrai.com.np" value="https://n8n.pareshrai.com.np">
                                <small class="form-help">Your n8n server URL (already filled with your URL)</small>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Webhook URL</label>
                                <input type="url" class="form-control" id="webhookUrl" placeholder="https://n8n.pareshrai.com.np/webhook/mindset-content-creator">
                                <small class="form-help">This will be generated automatically</small>
                            </div>
                            <div class="setup-actions">
                                <button class="btn btn--primary" onclick="testN8nConnection()">Test Connection</button>
                                <button class="btn btn--outline" onclick="nextSetupStep()">Next Step</button>
                            </div>
                        </div>
                    </div>

                    <div class="setup-step" id="step2">
                        <div class="setup-step__header">
                            <div class="setup-step__number">2</div>
                            <h3>Configure Your Voice</h3>
                            <p>Set up voice cloning to sound exactly like you!</p>
                        </div>
                        <div class="setup-step__content">
                            <div class="help-box">
                                <div class="help-box__header">
                                    <span class="help-icon">üé§</span>
                                    <h4>Voice Cloning Setup</h4>
                                </div>
                                <p>Upload a 30-second clear audio sample to FakeYou.com and get your voice model ID</p>
                                <p><strong>Steps:</strong><br>
                                1. Go to <a href="https://fakeyou.com" target="_blank">FakeYou.com</a><br>
                                2. Create account ‚Üí Upload voice sample<br>
                                3. Copy your voice model ID (TM:xxxxx)</p>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Voice Service</label>
                                <select class="form-control" id="voiceService">
                                    <option value="fakeyou">FakeYou.com (Free)</option>
                                    <option value="elevenlabs">ElevenLabs (Paid)</option>
                                    <option value="custom">Custom Service</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Voice Model ID</label>
                                <input type="text" class="form-control" id="voiceModelId" placeholder="TM:abc123xyz">
                                <small class="form-help">Get this from your voice cloning service</small>
                            </div>
                            <div class="setup-actions">
                                <button class="btn btn--outline" onclick="prevSetupStep()">Previous</button>
                                <button class="btn btn--primary" onclick="testVoiceModel()">Save Voice Settings</button>
                                <button class="btn btn--outline" onclick="nextSetupStep()">Next Step</button>
                            </div>
                        </div>
                    </div>

                    <div class="setup-step" id="step3">
                        <div class="setup-step__header">
                            <div class="setup-step__number">3</div>
                            <h3>Connect Social Media</h3>
                            <p>Add your social media accounts for auto-posting</p>
                        </div>
                        <div class="setup-step__content">
                            <div class="help-box">
                                <div class="help-box__header">
                                    <span class="help-icon">üì±</span>
                                    <h4>Social Media Setup</h4>
                                </div>
                                <p>Click each platform to get setup instructions. You can skip this for now and add platforms later in Settings.</p>
                            </div>
                            <div class="social-platforms">
                                <div class="platform-item">
                                    <div class="platform-info">
                                        <span class="platform-icon">üì∫</span>
                                        <span class="platform-name">YouTube</span>
                                    </div>
                                    <button class="btn btn--small" onclick="connectPlatform('youtube')">Connect</button>
                                </div>
                                <div class="platform-item">
                                    <div class="platform-info">
                                        <span class="platform-icon">üì∏</span>
                                        <span class="platform-name">Instagram</span>
                                    </div>
                                    <button class="btn btn--small" onclick="connectPlatform('instagram')">Connect</button>
                                </div>
                                <div class="platform-item">
                                    <div class="platform-info">
                                        <span class="platform-icon">üéµ</span>
                                        <span class="platform-name">TikTok</span>
                                    </div>
                                    <button class="btn btn--small" onclick="connectPlatform('tiktok')">Connect</button>
                                </div>
                                <div class="platform-item">
                                    <div class="platform-info">
                                        <span class="platform-icon">üíº</span>
                                        <span class="platform-name">LinkedIn</span>
                                    </div>
                                    <button class="btn btn--small" onclick="connectPlatform('linkedin')">Connect</button>
                                </div>
                                <div class="platform-item">
                                    <div class="platform-info">
                                        <span class="platform-icon">üë•</span>
                                        <span class="platform-name">Facebook</span>
                                    </div>
                                    <button class="btn btn--small" onclick="connectPlatform('facebook')">Connect</button>
                                </div>
                                <div class="platform-item">
                                    <div class="platform-info">
                                        <span class="platform-icon">üê¶</span>
                                        <span class="platform-name">Twitter</span>
                                    </div>
                                    <button class="btn btn--small" onclick="connectPlatform('twitter')">Connect</button>
                                </div>
                            </div>
                            <div class="setup-actions">
                                <button class="btn btn--outline" onclick="prevSetupStep()">Previous</button>
                                <button class="btn btn--outline" onclick="nextSetupStep()">Skip for Now</button>
                            </div>
                        </div>
                    </div>

                    <div class="setup-step" id="step4">
                        <div class="setup-step__header">
                            <div class="setup-step__number">4</div>
                            <h3>Test Everything</h3>
                            <p>Let's make sure everything works perfectly!</p>
                        </div>
                        <div class="setup-step__content">
                            <div class="test-results">
                                <div class="test-item">
                                    <span class="test-name">n8n Server Connection</span>
                                    <span class="test-status" id="testN8nStatus">‚è≥ Testing...</span>
                                </div>
                                <div class="test-item">
                                    <span class="test-name">Voice Model</span>
                                    <span class="test-status" id="testVoiceStatus">‚è≥ Testing...</span>
                                </div>
                                <div class="test-item">
                                    <span class="test-name">Social Media</span>
                                    <span class="test-status" id="testSocialStatus">‚è≥ Testing...</span>
                                </div>
                            </div>
                            <div class="help-box">
                                <div class="help-box__header">
                                    <span class="help-icon">üéâ</span>
                                    <h4>Almost Ready!</h4>
                                </div>
                                <p>After completing setup, you can create content from trending posts or custom content. Your n8n server will handle voice cloning and video creation automatically!</p>
                            </div>
                            <div class="setup-actions">
                                <button class="btn btn--outline" onclick="prevSetupStep()">Previous</button>
                                <button class="btn btn--primary" onclick="runAllTests()">Run Tests</button>
                                <button class="btn btn--success" onclick="completeSetup()">Complete Setup üöÄ</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main App -->
        <div class="main-app hidden" id="mainApp">
            <!-- Header -->
            <header class="header">
                <div class="header__content">
                    <div class="header__brand">
                        <h1>üß† MindsetFlow</h1>
                        <span class="header__subtitle">Professional Content Creator</span>
                    </div>
                    <div class="header__actions">
                        <button class="btn btn--primary" id="createContentBtn">
                            <span>‚ûï</span> Create New Content
                        </button>
                        <button class="btn btn--outline" onclick="showSettings()">‚öôÔ∏è Settings</button>
                    </div>
                </div>
            </header>

            <!-- Navigation -->
            <nav class="nav">
                <button class="nav__item nav__item--active" data-section="dashboard">üìä Dashboard</button>
                <button class="nav__item" data-section="trending">üî• Trending Posts</button>
                <button class="nav__item" data-section="create">‚úçÔ∏è Create</button>
                <button class="nav__item" data-section="library">üìö Library</button>
                <button class="nav__item" data-section="analytics">üìà Analytics</button>
            </nav>

            <!-- Main Content -->
            <main class="main">
                <!-- Dashboard Section -->
                <section id="dashboard" class="section section--active">
                    <div class="dashboard">
                        <div class="dashboard__header">
                            <h2>Content Creation Overview</h2>
                            <p class="dashboard__subtitle">Monitor your automated mindset content pipeline</p>
                        </div>

                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-card__icon">üìù</div>
                                <div class="stat-card__content">
                                    <div class="stat-card__value" id="totalContent">0</div>
                                    <div class="stat-card__label">Total Content</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-card__icon">üì±</div>
                                <div class="stat-card__content">
                                    <div class="stat-card__value" id="totalPlatforms">0</div>
                                    <div class="stat-card__label">Platforms</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-card__icon">üëÄ</div>
                                <div class="stat-card__content">
                                    <div class="stat-card__value" id="totalViews">0</div>
                                    <div class="stat-card__label">Total Views</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-card__icon">üíù</div>
                                <div class="stat-card__content">
                                    <div class="stat-card__value" id="engagementRate">0%</div>
                                    <div class="stat-card__label">Engagement</div>
                                </div>
                            </div>
                        </div>

                        <div class="dashboard__grid">
                            <div class="dashboard__card">
                                <h3>Recent Content</h3>
                                <div class="content-list" id="recentContentList">
                                    <!-- Dynamic content will be inserted here -->
                                </div>
                            </div>

                            <div class="dashboard__card">
                                <h3>Platform Performance</h3>
                                <canvas id="platformChart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Trending Posts Section -->
                <section id="trending" class="section">
                    <div class="trending-posts">
                        <div class="trending-header">
                            <h2>üî• Today's Trending Mindset Posts</h2>
                            <p class="trending-subtitle">High-engagement posts perfect for creating viral content</p>
                        </div>

                        <div class="trending-stats">
                            <div class="trending-stat">
                                <span class="trending-stat__value">0</span>
                                <span class="trending-stat__label">Trending Today</span>
                            </div>
                            <div class="trending-stat">
                                <span class="trending-stat__value">0</span>
                                <span class="trending-stat__label">Total Upvotes</span>
                            </div>
                            <div class="trending-stat">
                                <span class="trending-stat__value">0</span>
                                <span class="trending-stat__label">Avg Score</span>
                            </div>
                        </div>

                        <div class="trending-container" id="trendingPostsContainer">
                            <!-- Dynamic trending posts will be inserted here -->
                        </div>
                    </div>
                </section>

                <!-- Create Content Section -->
                <section id="create" class="section">
                    <div class="create-content">
                        <div class="create-content__header">
                            <h2>Create New Mindset Content</h2>
                            <p>Generate professional content from Reddit posts or custom input</p>
                        </div>

                        <div class="create-form">
                            <div class="form-group">
                                <label class="form-label">Content Source</label>
                                <div class="radio-group">
                                    <label class="radio-item">
                                        <input type="radio" name="contentSource" value="reddit" checked>
                                        <span>Reddit Post</span>
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="contentSource" value="custom">
                                        <span>Custom Content</span>
                                    </label>
                                </div>
                            </div>

                            <div class="form-group" id="redditInputGroup">
                                <label class="form-label">Reddit Post URL</label>
                                <input type="url" class="form-control" id="redditUrl" placeholder="https://reddit.com/r/getmotivated/...">
                                <button class="btn btn--outline" onclick="fetchRedditPost()">Fetch Post Data</button>
                                <small class="form-help">Or select from trending posts above ‚Üë</small>
                            </div>

                            <div class="form-group hidden" id="customInputGroup">
                                <label class="form-label">Custom Title</label>
                                <input type="text" class="form-control" id="customTitle" placeholder="Your mindset content title">
                                <label class="form-label">Custom Content</label>
                                <textarea class="form-control" id="customContent" rows="4" placeholder="Your mindset content..."></textarea>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Target Platforms</label>
                                <div class="platform-checkboxes">
                                    <label class="checkbox-item">
                                        <input type="checkbox" value="youtube" checked>
                                        <span>üì∫ YouTube</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" value="instagram" checked>
                                        <span>üì∏ Instagram</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" value="tiktok" checked>
                                        <span>üéµ TikTok</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" value="linkedin" checked>
                                        <span>üíº LinkedIn</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" value="facebook">
                                        <span>üë• Facebook</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" value="twitter">
                                        <span>üê¶ Twitter</span>
                                    </label>
                                </div>
                            </div>

                            <div class="create-actions">
                                <button class="btn btn--primary btn--large" onclick="createContent()">
                                    <span>üöÄ</span> Create Content
                                </button>
                            </div>
                        </div>

                        <div class="creation-progress hidden" id="creationProgress">
                            <h3>Creating Your Professional Content...</h3>
                            <div class="progress-steps">
                                <div class="progress-step">
                                    <div class="progress-step__icon">üìù</div>
                                    <div class="progress-step__label">Generating Script with Perplexity Pro</div>
                                    <div class="progress-step__status">‚è≥</div>
                                </div>
                                <div class="progress-step">
                                    <div class="progress-step__icon">üé§</div>
                                    <div class="progress-step__label">Cloning Your Voice</div>
                                    <div class="progress-step__status">‚è≥</div>
                                </div>
                                <div class="progress-step">
                                    <div class="progress-step__icon">üé¨</div>
                                    <div class="progress-step__label">Creating Professional Video</div>
                                    <div class="progress-step__status">‚è≥</div>
                                </div>
                                <div class="progress-step">
                                    <div class="progress-step__icon">üì±</div>
                                    <div class="progress-step__label">Posting to Platforms</div>
                                    <div class="progress-step__status">‚è≥</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Content Library Section -->
                <section id="library" class="section">
                    <div class="content-library">
                        <div class="library-header">
                            <h2>Content Library</h2>
                            <div class="library-filters">
                                <select class="form-control" id="filterPlatform">
                                    <option value="">All Platforms</option>
                                    <option value="youtube">YouTube</option>
                                    <option value="instagram">Instagram</option>
                                    <option value="tiktok">TikTok</option>
                                    <option value="linkedin">LinkedIn</option>
                                </select>
                                <select class="form-control" id="filterStatus">
                                    <option value="">All Status</option>
                                    <option value="published">Published</option>
                                    <option value="processing">Processing</option>
                                    <option value="draft">Draft</option>
                                </select>
                            </div>
                        </div>
                        <div class="content-grid" id="contentGrid">
                            <!-- Dynamic content will be inserted here -->
                        </div>
                    </div>
                </section>

                <!-- Analytics Section -->
                <section id="analytics" class="section">
                    <div class="analytics">
                        <div class="analytics-header">
                            <h2>Performance Analytics</h2>
                            <div class="date-range">
                                <select class="form-control">
                                    <option>Last 7 days</option>
                                    <option>Last 30 days</option>
                                    <option>Last 90 days</option>
                                </select>
                            </div>
                        </div>
                        <div class="analytics-grid">
                            <div class="analytics-card">
                                <h3>Views by Platform</h3>
                                <canvas id="viewsChart"></canvas>
                            </div>
                            <div class="analytics-card">
                                <h3>Engagement Trends</h3>
                                <canvas id="engagementChart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
