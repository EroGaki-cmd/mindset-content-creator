<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindsetFlow - Bulletproof Version</title>
    <style>
        body { 
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0; padding: 0; min-height: 100vh; color: #333;
        }
        .hidden { display: none !important; }
        .main-app { min-height: 100vh; display: flex; flex-direction: column; }
        .header { background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .header__content { max-width: 1200px; margin: 0 auto; padding: 20px; display: flex; justify-content: space-between; align-items: center; }
        .header__brand h1 { font-size: 1.8em; color: #333; margin: 0; }
        .header__subtitle { color: #666; font-size: 0.9em; }
        .header__actions { display: flex; gap: 15px; }
        .btn { display: inline-flex; align-items: center; justify-content: center; padding: 12px 24px; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s; gap: 8px; }
        .btn--primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .btn--primary:hover { transform: translateY(-2px); }
        .btn--outline { background: transparent; color: #667eea; border: 2px solid #667eea; }
        .btn--outline:hover { background: #667eea; color: white; }
        .nav { background: white; border-bottom: 1px solid #e1e5f7; display: flex; max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .nav__item { background: none; border: none; padding: 15px 20px; font-size: 16px; color: #666; cursor: pointer; border-bottom: 3px solid transparent; transition: all 0.3s; }
        .nav__item:hover { color: #667eea; background: #f8f9ff; }
        .nav__item--active { color: #667eea; border-bottom-color: #667eea; background: #f8f9ff; }
        .main { flex: 1; max-width: 1200px; margin: 0 auto; padding: 30px 20px; width: 100%; }
        .section { display: none; }
        .section--active { display: block; }
        .dashboard__header { text-align: center; margin-bottom: 40px; }
        .dashboard__header h2 { font-size: 2.2em; color: #333; margin-bottom: 10px; }
        .dashboard__subtitle { color: #666; font-size: 1.1em; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 40px; }
        .stat-card { background: white; border-radius: 15px; padding: 25px; text-align: center; box-shadow: 0 5px 20px rgba(0,0,0,0.1); transition: transform 0.3s; }
        .stat-card:hover { transform: translateY(-5px); }
        .stat-card__icon { font-size: 2.5em; margin-bottom: 15px; }
        .stat-card__value { font-size: 2em; font-weight: bold; color: #333; margin-bottom: 5px; }
        .stat-card__label { color: #666; font-size: 0.9em; }
        .dashboard__grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .dashboard__card { background: white; border-radius: 15px; padding: 25px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
        .dashboard__card h3 { color: #333; margin-bottom: 20px; font-size: 1.3em; }
        .notification { position: fixed; top: 20px; right: 20px; padding: 15px 20px; background: #28a745; color: white; border-radius: 8px; font-weight: 600; z-index: 10001; max-width: 400px; }
        .settings-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: none; align-items: center; justify-content: center; z-index: 9999; }
        .settings-content { background: white; padding: 40px; border-radius: 20px; max-width: 600px; width: 90%; }
        @media (max-width: 768px) { .dashboard__grid { grid-template-columns: 1fr; } .stats-grid { grid-template-columns: repeat(2, 1fr); } }
    </style>
</head>
<body>
    <div class="app">
        <div class="main-app" id="mainApp">
            <header class="header">
                <div class="header__content">
                    <div class="header__brand">
                        <h1>üß† MindsetFlow</h1>
                        <span class="header__subtitle">Professional Content Creator</span>
                    </div>
                    <div class="header__actions">
                        <button class="btn btn--primary" id="createContentBtn">Create New Content</button>
                        <button class="btn btn--outline" id="settingsBtn">Settings</button>
                    </div>
                </div>
            </header>

            <nav class="nav">
                <button class="nav__item nav__item--active" id="navDashboard">Dashboard</button>
                <button class="nav__item" id="navTrending">Trending Posts</button>
                <button class="nav__item" id="navCreate">Create</button>
                <button class="nav__item" id="navLibrary">Library</button>
                <button class="nav__item" id="navAnalytics">Analytics</button>
            </nav>

            <main class="main">
                <section id="dashboard" class="section section--active">
                    <div class="dashboard">
                        <div class="dashboard__header">
                            <h2>Content Creation Overview</h2>
                            <p class="dashboard__subtitle">Monitor your automated mindset content pipeline</p>
                        </div>

                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-card__icon">üìù</div>
                                <div class="stat-card__value" id="totalContent">0</div>
                                <div class="stat-card__label">Total Content</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-card__icon">üì±</div>
                                <div class="stat-card__value" id="totalPlatforms">0</div>
                                <div class="stat-card__label">Platforms</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-card__icon">üëÄ</div>
                                <div class="stat-card__value" id="totalViews">0</div>
                                <div class="stat-card__label">Total Views</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-card__icon">üíù</div>
                                <div class="stat-card__value" id="engagementRate">0%</div>
                                <div class="stat-card__label">Engagement</div>
                            </div>
                        </div>

                        <div class="dashboard__grid">
                            <div class="dashboard__card">
                                <h3>Recent Content</h3>
                                <div id="recentContentList">
                                    <div style="text-align: center; padding: 20px; color: #666;">
                                        <p>No content created yet.</p>
                                        <p>Welcome to MindsetFlow!</p>
                                        <button class="btn btn--primary" id="dashboardCreateBtn">Create Your First Content</button>
                                    </div>
                                </div>
                            </div>

                            <div class="dashboard__card">
                                <h3>Platform Performance</h3>
                                <div style="text-align: center; padding: 20px; color: #666;">
                                    <p>Analytics will appear here</p>
                                    <p>Connect platforms to see performance data</p>
                                    <button class="btn btn--outline" id="dashboardAnalyticsBtn">View Analytics</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="trending" class="section">
                    <div style="text-align: center; padding: 40px; color: #333;">
                        <h2>Trending Posts</h2>
                        <p style="color: #666; margin-bottom: 40px;">High-engagement posts perfect for creating viral content</p>
                        <div id="trendingPostsContainer">
                            <div style="background: white; padding: 40px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                                <h3>Reddit Trending Posts</h3>
                                <p>This feature will automatically fetch trending posts from Reddit</p>
                                <button class="btn btn--primary" id="loadTrendingBtn">Load Trending Posts</button>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="create" class="section">
                    <div style="text-align: center; padding: 40px; color: #333;">
                        <h2>Create New Content</h2>
                        <p style="color: #666; margin-bottom: 40px;">Generate professional content from Reddit posts or custom input</p>
                        <div style="background: white; padding: 40px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto;">
                            <h3 style="margin-bottom: 30px;">Content Creation Tools</h3>
                            <p style="margin-bottom: 30px;">Create professional videos with your voice and automated posting</p>
                            <button class="btn btn--primary" id="startCreateBtn" style="font-size: 18px; padding: 16px 32px;">Start Creating Content</button>
                        </div>
                    </div>
                </section>

                <section id="library" class="section">
                    <div style="text-align: center; padding: 40px; color: #333;">
                        <h2>Content Library</h2>
                        <p style="color: #666; margin-bottom: 40px;">Your created content and performance metrics</p>
                        <div id="contentGrid">
                            <div style="background: white; padding: 40px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                                <h3>Content Archive</h3>
                                <p style="color: #666; margin-bottom: 20px;">Your content library is empty</p>
                                <p style="color: #666; margin-bottom: 30px;">Created content will appear here</p>
                                <button class="btn btn--primary" id="libraryCreateBtn">Create Your First Content</button>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="analytics" class="section">
                    <div style="text-align: center; padding: 40px; color: #333;">
                        <h2>Performance Analytics</h2>
                        <p style="color: #666; margin-bottom: 40px;">Detailed insights into your content performance</p>
                        <div style="background: white; padding: 40px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                            <h3>Analytics Dashboard</h3>
                            <p style="color: #666;">Performance charts and metrics will appear here</p>
                            <p style="color: #667eea; font-weight: 600;">Coming Soon!</p>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <div class="hidden" id="setupWizard">
            <p>Setup wizard hidden</p>
        </div>

        <div class="settings-modal" id="settingsModal">
            <div class="settings-content">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                    <h2 style="margin: 0;">Settings</h2>
                    <button class="btn btn--outline" id="closeSettingsBtn">Close</button>
                </div>

                <div style="margin-bottom: 30px;">
                    <h3 style="color: #333; margin-bottom: 20px;">n8n Server Configuration</h3>
                    <div style="background: #f8f9ff; padding: 20px; border-radius: 10px;">
                        <p><strong>Server URL:</strong> https://n8n.pareshrai.com.np</p>
                        <p><strong>Webhook:</strong> https://n8n.pareshrai.com.np/webhook/mindset-content-creator</p>
                        <p style="color: #28a745; font-weight: 600;">Connected and Ready</p>
                    </div>
                </div>

                <div style="margin-bottom: 30px;">
                    <h3 style="color: #333; margin-bottom: 20px;">Voice Cloning Setup</h3>
                    <div style="background: #f8f9ff; padding: 20px; border-radius: 10px;">
                        <p><strong>Service:</strong> FakeYou.com</p>
                        <p><strong>Status:</strong> Ready for configuration</p>
                    </div>
                </div>

                <div style="text-align: center;">
                    <button class="btn btn--primary" id="saveSettingsBtn">Save Settings</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Basic Variables -->
    <script>
        console.log("MindsetFlow - Starting...");
        var currentSection = "dashboard";
    </script>

    <!-- Core Functions -->
    <script>
        function showSection(sectionName) {
            console.log("Showing section: " + sectionName);

            var sections = ["dashboard", "trending", "create", "library", "analytics"];
            var navButtons = ["navDashboard", "navTrending", "navCreate", "navLibrary", "navAnalytics"];

            for (var i = 0; i < sections.length; i++) {
                var section = document.getElementById(sections[i]);
                var navBtn = document.getElementById(navButtons[i]);

                if (sections[i] === sectionName) {
                    if (section) section.classList.add("section--active");
                    if (navBtn) navBtn.classList.add("nav__item--active");
                } else {
                    if (section) section.classList.remove("section--active");
                    if (navBtn) navBtn.classList.remove("nav__item--active");
                }
            }

            currentSection = sectionName;
            showMessage("Switched to " + sectionName + " section");
        }

        function showSettings() {
            console.log("Opening settings");
            var modal = document.getElementById("settingsModal");
            if (modal) {
                modal.style.display = "flex";
                showMessage("Settings opened");
            }
        }

        function closeSettings() {
            console.log("Closing settings");
            var modal = document.getElementById("settingsModal");
            if (modal) {
                modal.style.display = "none";
                showMessage("Settings closed");
            }
        }

        function showMessage(text) {
            console.log("Message: " + text);

            var existing = document.querySelector(".notification");
            if (existing) {
                existing.remove();
            }

            var notification = document.createElement("div");
            notification.className = "notification";
            notification.textContent = text;
            document.body.appendChild(notification);

            setTimeout(function() {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 3000);
        }

        function createContent() {
            console.log("Starting content creation");
            showMessage("Starting content creation process...");
            showSection("create");
        }

        function loadTrending() {
            console.log("Loading trending posts");
            showMessage("Loading trending posts from Reddit...");

            setTimeout(function() {
                var container = document.getElementById("trendingPostsContainer");
                if (container) {
                    container.innerHTML = "<div style='background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);'><h3 style='color: #28a745;'>Trending Posts Loaded!</h3><p>Found 12 high-engagement posts ready for content creation</p><button class='btn btn--primary' onclick='createContent()'>Create Content from Posts</button></div>";
                }
                showMessage("Found 12 trending posts!");
            }, 2000);
        }
    </script>

    <!-- Event Listeners -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            console.log("DOM loaded - setting up event listeners");

            var navDashboard = document.getElementById("navDashboard");
            if (navDashboard) {
                navDashboard.onclick = function() { showSection("dashboard"); };
            }

            var navTrending = document.getElementById("navTrending");
            if (navTrending) {
                navTrending.onclick = function() { showSection("trending"); };
            }

            var navCreate = document.getElementById("navCreate");
            if (navCreate) {
                navCreate.onclick = function() { showSection("create"); };
            }

            var navLibrary = document.getElementById("navLibrary");
            if (navLibrary) {
                navLibrary.onclick = function() { showSection("library"); };
            }

            var navAnalytics = document.getElementById("navAnalytics");
            if (navAnalytics) {
                navAnalytics.onclick = function() { showSection("analytics"); };
            }

            var createContentBtn = document.getElementById("createContentBtn");
            if (createContentBtn) {
                createContentBtn.onclick = function() { createContent(); };
            }

            var settingsBtn = document.getElementById("settingsBtn");
            if (settingsBtn) {
                settingsBtn.onclick = function() { showSettings(); };
            }

            var closeSettingsBtn = document.getElementById("closeSettingsBtn");
            if (closeSettingsBtn) {
                closeSettingsBtn.onclick = function() { closeSettings(); };
            }

            var saveSettingsBtn = document.getElementById("saveSettingsBtn");
            if (saveSettingsBtn) {
                saveSettingsBtn.onclick = function() { closeSettings(); };
            }

            var dashboardCreateBtn = document.getElementById("dashboardCreateBtn");
            if (dashboardCreateBtn) {
                dashboardCreateBtn.onclick = function() { createContent(); };
            }

            var dashboardAnalyticsBtn = document.getElementById("dashboardAnalyticsBtn");
            if (dashboardAnalyticsBtn) {
                dashboardAnalyticsBtn.onclick = function() { showSection("analytics"); };
            }

            var loadTrendingBtn = document.getElementById("loadTrendingBtn");
            if (loadTrendingBtn) {
                loadTrendingBtn.onclick = function() { loadTrending(); };
            }

            var startCreateBtn = document.getElementById("startCreateBtn");
            if (startCreateBtn) {
                startCreateBtn.onclick = function() { createContent(); };
            }

            var libraryCreateBtn = document.getElementById("libraryCreateBtn");
            if (libraryCreateBtn) {
                libraryCreateBtn.onclick = function() { createContent(); };
            }

            showMessage("MindsetFlow ready!");
            console.log("All event listeners set up successfully");
        });
    </script>

    <!-- Final Ready Message -->
    <script>
        console.log("MindsetFlow - All scripts loaded successfully!");
    </script>
</body>
</html>
